<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <input type="text" id="inputPrice">
    <input type="button" id="purchaseBtn" value="구매">
    <div id="resultArea">

    </div>
  </body>
  <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <script>

    $("#inputPrice").focus();
    
    // $("#purchaseBtn").click(function() {
    //   let inputPrice = $("#inputPrice").val();

    //   $.ajax({
    //     url: `http://localhost/qspurchase?inputPrice=${inputPrice}`,
    //     data: {},
    //     success: function(response) {
    //       if (response == "구입불가") {
    //         alert(response);
    //       } else {
    //         $("#resultArea").html(response);
    //       }
    //     }
    //   })
    // })

     // 엔터 키를 눌렀을 때 처리
     $("#inputPrice").keypress(function(event) {
      if (event.which == 13) { // 13은 엔터 키의 keycode입니다.
        purchase(); // purchase 함수 호출
      }
    });

    // 구매 버튼 클릭 시 처리
    $("#purchaseBtn").click(purchase);

    // 구매 함수
    function purchase() {
      let inputPrice = $("#inputPrice").val();

      $.ajax({
        url: `http://localhost/qspurchase?inputPrice=${inputPrice}`,
        data: {},
        success: function(response) {
          if (response == "구입불가") {
            alert(response);
          } else {
            $("#resultArea").html(response);
          }
        }
      })
    }


  </script>
</html>
