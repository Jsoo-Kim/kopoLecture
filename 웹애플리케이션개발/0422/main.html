<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    1번 &nbsp
    0 <input type="radio" name="r1"> &nbsp
    1 <input type="radio" name="r1"> &nbsp
    2 <input type="radio" name="r1"> &nbsp
    3 <input type="radio" name="r1"> &nbsp
    4 <input type="radio" name="r1"> &nbsp
    가중치 <input type="text" id="weight1"> <br>
    2번 &nbsp
    0 <input type="radio" name="r2"> &nbsp
    1 <input type="radio" name="r2"> &nbsp
    2 <input type="radio" name="r2"> &nbsp
    3 <input type="radio" name="r2"> &nbsp
    4 <input type="radio" name="r2"> &nbsp
    가중치 <input type="text" id="weight2"> <br>
    3번 &nbsp
    0 <input type="radio" name="r3"> &nbsp
    1 <input type="radio" name="r3"> &nbsp
    2 <input type="radio" name="r3"> &nbsp
    3 <input type="radio" name="r3"> &nbsp
    4 <input type="radio" name="r3"> &nbsp
    가중치 <input type="text" id="weight3"> <br>

    <div id="printCal">

    </div>

    <button type="button" id="calBtn">계산</button>


  </body>
  <script>
    //
    // let radios1 = document.getElementsByName("r1");
    // let radios2 = document.getElementsByName("r2");
    // let radios3 = document.getElementsByName("r3");
    // let printCal = document.getElementById("printCal");
    // let calBtn = document.getElementById("calBtn");
    //
    // calBtn.addEventListener('click', function() {
    //   let weight1Val = document.getElementById("weight1").value;
    //   let weight2Val = document.getElementById("weight2").value;
    //   let weight3Val = document.getElementById("weight3").value;
    //   let radios1Num, radios2Num, radios3Num;
    //
    //   for (let i = 0; i < radios1.length; i++) {
    //     if (radios1[i].checked) {
    //       radios1Num = i;
    //     }
    //   }
    //   for (let i = 0; i < radios2.length; i++) {
    //     if (radios2[i].checked) {
    //       radios2Num = i;
    //     }
    //   }
    //   for (let i = 0; i < radios3.length; i++) {
    //     if (radios3[i].checked) {
    //       radios3Num = i;
    //     }
    //   }
    //
    //   let calResult = (radios1Num * weight1Val) + (radios2Num * weight2Val) + (radios3Num * weight3Val);
    //   printCal.innerHTML = `${radios1Num}x${weight1Val} + ${radios2Num}x${weight2Val} + ${radios3Num}x${weight3Val} = ${calResult}`
    //
    // });


  // ---- 아래처럼 최적화 가능 ---- //

    let printCal = document.getElementById("printCal");
    let calBtn = document.getElementById("calBtn");

    calBtn.addEventListener('click', function() {
      let radios1Num = getCheckedRadioValue("r1");
      let radios2Num = getCheckedRadioValue("r2");
      let radios3Num = getCheckedRadioValue("r3");
      let weight1Val = document.getElementById("weight1").value;
      let weight2Val = document.getElementById("weight2").value;
      let weight3Val = document.getElementById("weight3").value;

      // 입력값 유효성 검사
      if (!isValidInput(radios1Num, weight1Val) || !isValidInput(radios2Num, weight2Val) || !isValidInput(radios3Num, weight3Val)) {
        alert("모든 항목을 입력해주세요..");
        return; // 아래 계산 출력 결과가 실행되지 않게 함
      }

      let calResult = (radios1Num * weight1Val) + (radios2Num * weight2Val) + (radios3Num * weight3Val);
      printCal.innerHTML = `${radios1Num}x${weight1Val} + ${radios2Num}x${weight2Val} + ${radios3Num}x${weight3Val} = ${calResult}`;
    });

    function getCheckedRadioValue(name) {
      let radios = document.getElementsByName(name);
      for (let i = 0; i < radios.length; i++) {
        if (radios[i].checked) {
          return i;
        }
      }
      // 만약 선택된 라디오 버튼이 없다면 기본값 0을 반환
      alert("선택하지 않은 항목이 있습니다.")
      return undefined; // 이 부분을 생략해도 함수가 끝날 때 명시적으로 값을 반환하지 않는 경우 JavaScript는 undefined를 반환

    }

    function isValidInput(radiosNum, weightVal) {
      // 라디오 버튼이 선택되었는지와 가중치가 입력되었는지 확인
      return radiosNum !== undefined && weightVal.trim() !== "";
    }

  </script>
</html>
